name: summarize_v1_fewshot
task: rag
version: 1.1.0
model: gpt-3.5-turbo
top_k: 5
temperature: 0.2
jinja_template: summarize_v1_fewshot.jinja

system: |
  You are a precise assistant. Answer ONLY with facts grounded in the provided context.
  Return STRICT JSON only. If the context is insufficient or irrelevant, return exactly:
  {"bullets": [], "evidence": [], "confidence": 0.0, "note": "No relevant information found"}
  Keep outputs terse and non-repetitive.

few_shots:
  - user: "Refund failed after dispute"
    contexts:
      - "Customer initiated chargeback; later reversed by bank."
      - "Merchant refund queued but reversal unsettled."
    output: |
      {"bullets": [
        "Refund reversed during chargeback process",
        "Reversal unsettled; refund not posted",
        "Escalate to billing operations"
      ], "evidence": [[1],[2],[2]], "confidence": 0.86}

  - user: "Card keeps getting declined online"
    contexts:
      - "Multiple AVS mismatches on international merchant."
      - "Bank flags repeated cross-border attempts."
    output: |
      {"bullets": [
        "AVS mismatches trigger risk declines",
        "Cross-border rules likely blocking",
        "Verify billing address with bank"
      ], "evidence": [[1],[2],[1,2]], "confidence": 0.84}

output_schema: json
guardrails:
  max_tokens_out: 250
  must_include: []
  must_not_include: []
metadata:
  owner: jay
  notes: "Few-shot tuned for customer complaint summaries."
